{"version":3,"sources":["vail.js"],"names":[],"mappings":"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","file":"vail-s.js","sourcesContent":["\n\nbindvail($(\"#uname\"),/^\\w{4,8}$/,\"uname\",\"用户名已经存在\",\"用户名必须在4-8位之间\");\nbindvail($(\"#phone\"),/^((\\+86|0086)\\s+)?1[34578]\\d{9}$/,\"phone\",\"手机号码已经存在\",\"请输入正确的手机号码\");\nbindvail($(\"#email\"),/^[a-z0-9]+([._\\\\-]*[a-z0-9])*@([a-z0-9]+[-a-z0-9]*[a-z0-9]+.){1,63}[a-z0-9]+$/,\"email\",\"邮箱已经存在\",\"请输入正确的邮箱\");\n\nfunction bindvail(obj,reg,name,msg1,msg2){\n    obj.on(\"focus keyup\", function () {\n        if(reg.test($(this).val()))\n            vailData($(this),name,$(this).val(),msg1);\n        else $(this).parent().next().find(\"span\").html(msg2).attr('class','text-info');\n    });\n}\n\n\nfunction vailData(obj,datname,dat,msg){\n    $.ajax({\n        url:\"data/vail.php\",\n        data:datname+\"=\"+dat,\n        type:\"get\",\n        success:function(result){\n            console.log(result);\n            if(result==\"success\")\n                obj.parent().next().find(\"span\").html(\"验证通过\").attr('class','text-success');\n            else obj.parent().next().find(\"span\").html(msg).attr('class','text-danger');\n        }\n    });\n}\n\n$(\"#pwd\").on(\"focus keyup\",function(){\n    if(/^\\w{6,12}$/.test($(this).val()))\n        $(this).parent().next().find(\"span\").html(\"验证通过\").attr('class','text-success');\n    else $(this).parent().next().find(\"span\").html(\"密码必须6-12位\").attr('class','text-danger');\n});\n\n$(\"#cpwd\").on(\"focus keyup\",function(){\n    var pwd = $(\"#pwd\").val();\n    if(pwd == $(this).val() && $(this).val()!=\"\")\n        $(this).parent().next().find(\"span\").html(\"验证通过\").attr('class','text-success');\n    else $(this).parent().next().find(\"span\").html(\"两次输入密码不一致\").attr('class','text-danger');\n});\n\n\n$(\"#sub\").click(function () {\n\n    if($(\".text-success\").length==5 && $(\"#checkb\").is(':checked')){\n        var uname = $(\"#uname\").val();\n        var phone = $(\"#phone\").val();\n        var upwd = $(\"#pwd\").val();\n        var email = $(\"#email\").val();\n        $.ajax({\n            url:\"data/reg.php\",\n            data:`uname=${uname}&phone=${phone}&upwd=${upwd}&email=${email}`,\n            type:\"post\",\n            success:function(data){\n                if(data==\"success\")\n                    location.href=\"login.html\";\n                else alertMsg(\"注册失败\",\"注册失败\",false,\"关闭\",\"关闭\",function(){});\n\n            }\n       });\n\n    }else{\n        alertMsg(\"注册失败\",\"请完整填写信息并同意用户协议\",false,\"关闭\",\"关闭\",function(){});\n\n\n    }\n});\n\n/*顶部购物车数量加载*/\nfunction upcount(){\n    $.ajax({\n        url:\"data/getcart.php\",\n        type:\"get\",\n        success:function(data){\n            if(data.ok!=0)\n                $(\".top_cart>span:eq(0)\").html(data.length);\n            else  $(\".top_cart>span:eq(0)\").html(0);\n        }\n    });\n}\n\n\n\n\n/*弹出自定义模态框*/\n\nfunction alertMsg(title,msg,isConfirm,btn1,btn2,callback){\n    var dialog= $(\"#alertmsg\");\n    dialog.find(\".modal-title\").html(title);\n    dialog.find(\".modal-body\").html(msg);\n    dialog.find(\".modal-footer>button:eq(0)\").html(btn1);\n\n    if(!isConfirm){\n        dialog.find(\".modal-footer>button:eq(1)\").addClass(\"hide\");\n        dialog.find(\".modal-footer>button:eq(0)\").html(btn2).on(\"click\",callback);\n    }else{\n        dialog.find(\".modal-footer>button:eq(1)\").html(btn2).on(\"click\",callback);\n    }\n\n\n    dialog.modal(\"show\");\n}\n"]}