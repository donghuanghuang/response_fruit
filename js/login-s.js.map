{"version":3,"sources":["login.js"],"names":[],"mappings":";;AAAA;;;AAGA,EAAE,QAAF,EAAY,KAAZ,CAAkB,YAAU;AACxB,QAAI,QAAQ,EAAE,QAAF,EAAY,GAAZ,EAAZ;AACA,QAAI,OAAO,EAAE,MAAF,EAAU,GAAV,EAAX;AACA,QAAG,SAAO,EAAP,IAAa,SAAO,SAAvB,EAAiC;AAC7B,UAAE,QAAF,EAAY,MAAZ,GAAqB,IAArB,GAA4B,IAA5B,CAAiC,MAAjC,EAAyC,IAAzC,CAA8C,SAA9C,EAAyD,WAAzD,CAAqE,WAArE;AACA,eAAO,KAAP;AACH;AACD,QAAG,QAAM,EAAN,IAAY,QAAM,SAArB,EAA+B;AAC3B,UAAE,MAAF,EAAU,MAAV,GAAmB,IAAnB,GAA0B,IAA1B,CAA+B,MAA/B,EAAuC,IAAvC,CAA4C,QAA5C,EAAsD,WAAtD,CAAkE,WAAlE;AACA,eAAO,KAAP;AACH;;AAED,MAAE,IAAF,CAAO;AACH,aAAI,gBADD;AAEH,yBAAc,KAAd,cAA4B,IAFzB;AAGH,cAAK,MAHF;AAIH,iBAAQ,iBAAS,IAAT,EAAc;AAClB,gBAAG,QAAM,SAAT,EACI,SAAS,IAAT,GAAc,YAAd,CADJ,KAEK,SAAS,MAAT,EAAgB,MAAhB,EAAuB,KAAvB,EAA6B,IAA7B,EAAkC,IAAlC,EAAuC,YAAU,CAAE,CAAnD;AAEP;AATC,KAAP;AAWH,CAvBD;;AAyBA,EAAE,QAAF,EAAY,EAAZ,CAAe,OAAf,EAAuB,YAAU;AAC7B,MAAE,QAAF,EAAY,MAAZ,GAAqB,IAArB,GAA4B,IAA5B,CAAiC,MAAjC,EAAyC,QAAzC,CAAkD,WAAlD;AACH,CAFD;;AAIA,EAAE,MAAF,EAAU,EAAV,CAAa,OAAb,EAAqB,YAAU;AAC3B,MAAE,MAAF,EAAU,MAAV,GAAmB,IAAnB,GAA0B,IAA1B,CAA+B,MAA/B,EAAuC,QAAvC,CAAgD,WAAhD;AACH,CAFD;;AAIA;AACA,SAAS,OAAT,GAAkB;AACd,MAAE,IAAF,CAAO;AACH,aAAI,kBADD;AAEH,cAAK,KAFF;AAGH,iBAAQ,iBAAS,IAAT,EAAc;AAClB,gBAAG,KAAK,EAAL,IAAS,CAAZ,EACI,EAAE,sBAAF,EAA0B,IAA1B,CAA+B,KAAK,MAApC,EADJ,KAEM,EAAE,sBAAF,EAA0B,IAA1B,CAA+B,CAA/B;AACT;AAPE,KAAP;AASH;;AAKD;;AAEA,SAAS,QAAT,CAAkB,KAAlB,EAAwB,GAAxB,EAA4B,SAA5B,EAAsC,IAAtC,EAA2C,IAA3C,EAAgD,QAAhD,EAAyD;AACrD,QAAI,SAAQ,EAAE,WAAF,CAAZ;AACA,WAAO,IAAP,CAAY,cAAZ,EAA4B,IAA5B,CAAiC,KAAjC;AACA,WAAO,IAAP,CAAY,aAAZ,EAA2B,IAA3B,CAAgC,GAAhC;AACA,WAAO,IAAP,CAAY,4BAAZ,EAA0C,IAA1C,CAA+C,IAA/C;;AAEA,QAAG,CAAC,SAAJ,EAAc;AACV,eAAO,IAAP,CAAY,4BAAZ,EAA0C,QAA1C,CAAmD,MAAnD;AACA,eAAO,IAAP,CAAY,4BAAZ,EAA0C,IAA1C,CAA+C,IAA/C,EAAqD,EAArD,CAAwD,OAAxD,EAAgE,QAAhE;AACH,KAHD,MAGK;AACD,eAAO,IAAP,CAAY,4BAAZ,EAA0C,IAA1C,CAA+C,IAA/C,EAAqD,EAArD,CAAwD,OAAxD,EAAgE,QAAhE;AACH;;AAGD,WAAO,KAAP,CAAa,MAAb;AACH","file":"login-s.js","sourcesContent":["/**\r\n * Created by XiaoBai on 2017/10/7.\r\n */\r\n$(\"#login\").click(function(){\r\n    var uname = $(\"#uname\").val();\r\n    var upwd = $(\"#pwd\").val();\r\n    if(uname==\"\" || uname==undefined){\r\n        $(\"#uname\").parent().next().find(\"span\").html(\"用户名不能为空\").removeClass(\"text-hide\");\r\n        return false;\r\n    }\r\n    if(upwd==\"\" || upwd==undefined){\r\n        $(\"#pwd\").parent().next().find(\"span\").html(\"密码不能为空\").removeClass(\"text-hide\");\r\n        return false;\r\n    }\r\n\r\n    $.ajax({\r\n        url:\"data/login.php\",\r\n        data:`uname=${uname}&upwd=${upwd}`,\r\n        type:\"post\",\r\n        success:function(data){\r\n            if(data==\"success\")\r\n                location.href=\"index.html\";\r\n            else alertMsg(\"登陆失败\",\"登陆失败\",false,\"关闭\",\"关闭\",function(){});\r\n\r\n         }\r\n    });\r\n});\r\n\r\n$(\"#uname\").on(\"keyup\",function(){\r\n    $(\"#uname\").parent().next().find(\"span\").addClass(\"text-hide\");\r\n});\r\n\r\n$(\"#pwd\").on(\"keyup\",function(){\r\n    $(\"#pwd\").parent().next().find(\"span\").addClass(\"text-hide\");\r\n});\r\n\r\n/*顶部购物车数量加载*/\r\nfunction upcount(){\r\n    $.ajax({\r\n        url:\"data/getcart.php\",\r\n        type:\"get\",\r\n        success:function(data){\r\n            if(data.ok!=0)\r\n                $(\".top_cart>span:eq(0)\").html(data.length);\r\n            else  $(\".top_cart>span:eq(0)\").html(0);\r\n        }\r\n    });\r\n}\r\n\r\n\r\n\r\n\r\n/*弹出自定义模态框*/\r\n\r\nfunction alertMsg(title,msg,isConfirm,btn1,btn2,callback){\r\n    var dialog= $(\"#alertmsg\");\r\n    dialog.find(\".modal-title\").html(title);\r\n    dialog.find(\".modal-body\").html(msg);\r\n    dialog.find(\".modal-footer>button:eq(0)\").html(btn1);\r\n\r\n    if(!isConfirm){\r\n        dialog.find(\".modal-footer>button:eq(1)\").addClass(\"hide\");\r\n        dialog.find(\".modal-footer>button:eq(0)\").html(btn2).on(\"click\",callback);\r\n    }else{\r\n        dialog.find(\".modal-footer>button:eq(1)\").html(btn2).on(\"click\",callback);\r\n    }\r\n\r\n\r\n    dialog.modal(\"show\");\r\n}\r\n"]}