{"version":3,"sources":["main.js"],"names":[],"mappings":";;AAAA;;;AAGA,EAAE,YAAU;AACR,QAAI,SAAQ,EAAE,SAAF,CAAZ;AACA,aAAS,SAAT,GAAoB;AAChB,YAAI,OAAK,EAAT;AACA,UAAE,IAAF,CAAO;AACH,iBAAI,qBADD;AAEH,kBAAK,KAFF;AAGH,qBAAS,iBAAU,IAAV,EAAgB;AACrB,qBAAI,IAAI,CAAR,IAAa,IAAb,EAAkB;AACd,wBAAI,MAAM,KAAK,CAAL,CAAV;AACA,wBAAI,QAAO,OAAO,IAAI,IAAJ,CAAS,SAAS,IAAI,KAAb,CAAT,CAAP,CAAX;AACA,wBAAG,IAAI,GAAJ,IAAS,MAAZ,EAAmB;AACf,yCAAa,KAAb;AACH,qBAFD,MAGI;AACA,yCAAa,KAAb,uDAAiC,IAAI,GAArC;AACH;AAEJ;AACD,uBAAO,IAAP,CAAY,IAAZ;AACH;AAhBE,SAAP;AAkBH;;AAGD;;AAEA,QAAI,UAAQ,YAAY,SAAZ,EAAsB,IAAtB,CAAZ;;AAGA;AACA,MAAE,IAAF,CAAO;AACH,aAAI,kBADD;AAEH,cAAK,KAFF;AAGH,iBAAS,iBAAU,IAAV,EAAgB;AACrB,oBAAQ,GAAR,CAAY,IAAZ;AACA,cAAE,UAAF,EAAc,IAAd,CAAmB,KAAK,OAAxB;AACA,cAAE,UAAF,EAAc,IAAd,CAAmB,KAAK,OAAxB;AACA,cAAE,UAAF,EAAc,IAAd,CAAmB,KAAK,OAAxB;AACA,cAAE,WAAF,EAAe,IAAf,CAAoB,KAAK,QAAzB;AACA,cAAE,WAAF,EAAe,IAAf,CAAoB,KAAK,QAAzB;AACA,cAAE,WAAF,EAAe,IAAf,CAAoB,KAAK,QAAzB;;AAEA;;AAEA;AACA,gBAAI,UAAU,QAAQ,IAAR,CAAa,SAAS,cAAT,CAAwB,KAAxB,CAAb,CAAd;;AAEA;AACA,gBAAI,SAAS;AACT,uBAAO;AACH,0BAAM;AADH,iBADE;AAIT,wBAAQ,CAAC;AACL,0BAAM,KADD;AAEL,0BAAM,KAFD;AAGL,0BAAM,CACF,EAAC,OAAM,KAAK,OAAZ,EAAoB,MAAK,OAAzB,EADE,EAEF,EAAC,OAAM,KAAK,QAAZ,EAAqB,MAAK,OAA1B,EAFE,EAGF,EAAC,OAAM,KAAK,QAAZ,EAAqB,MAAK,QAA1B,EAHE;AAHD,iBAAD;AAJC,aAAb;AAcA;AACA;AACA;AACA,oBAAQ,SAAR,CAAkB,MAAlB;AAIH;AAvCE,KAAP;;AA2CA;;AAEA,aAAS,MAAT,CAAgB,IAAhB,EAAqB;;AAEjB,YAAI,IAAI,KAAK,WAAL,EAAR;;AAEA,YAAI,IAAI,KAAK,QAAL,KAAgB,CAAxB;;AAEA,YAAI,IAAI,KAAK,OAAL,EAAR;;AAGA,YAAI,IAAI,KAAK,QAAL,EAAR;;AAEA,YAAI,IAAI,KAAK,UAAL,EAAR;AACA,YAAE,EAAF,KAAO,IAAE,MAAI,CAAb;;AAEA,YAAI,IAAI,KAAK,UAAL,EAAR;AACA,YAAE,EAAF,KAAO,IAAE,MAAI,CAAb;;AAEA,eAAO,IAAE,GAAF,GAAM,CAAN,GAAQ,GAAR,GAAY,CAAZ,GAAc,GAAd,GAAkB,CAAlB,GAAoB,GAApB,GAAwB,CAAxB,GAA0B,GAA1B,GAA8B,CAArC;AACH;AAEJ,CAhGD","file":"main-s.js","sourcesContent":["/**\r\n * Created by web-01 on 2017/10/30.\r\n */\r\n$(function(){\r\n    var ipview =$(\".ipview\");\r\n    function getIplist(){\r\n        var html=\"\";\r\n        $.ajax({\r\n            url:\"data/gethistory.php\",\r\n            type:\"get\",\r\n            success: function (data) {\r\n                for(var x in data){\r\n                    var ips = data[x];\r\n                    var vtime =format(new Date(parseInt(ips.vtime)));\r\n                    if(ips.vip==\"root\"){\r\n                        html+=`<h6>${vtime}:管理员登录 IP:127.0.0.1</h6>`;\r\n                    }\r\n                    else{\r\n                        html+=`<h6>${vtime}:有个大佬访问了 IP:${ips.vip}</h6>`;\r\n                    }\r\n\r\n                }\r\n                ipview.html(html);\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    getIplist();\r\n\r\n    var iptimer=setInterval(getIplist,3000);\r\n\r\n\r\n    //获取首页数据\r\n    $.ajax({\r\n        url:\"data/getdata.php\",\r\n        type:\"get\",\r\n        success: function (data) {\r\n            console.log(data);\r\n            $(\".p_count\").html(data.p_count);\r\n            $(\".l_count\").html(data.l_count);\r\n            $(\".u_count\").html(data.u_count);\r\n            $(\".l_tcount\").html(data.l_tcount);\r\n            $(\".l_dcount\").html(data.l_dcount);\r\n            $(\".l_ccount\").html(data.l_ccount);\r\n\r\n            //饼状图\r\n\r\n            // 基于准备好的dom，初始化echarts实例\r\n            var myChart = echarts.init(document.getElementById('pie'));\r\n\r\n            // 指定图表的配置项和数据\r\n            var option = {\r\n                title: {\r\n                    text: '饼图统计'\r\n                },\r\n                series: [{\r\n                    name: '访问量',\r\n                    type: 'pie',\r\n                    data: [\r\n                        {value:data.l_count,name:\"已完成订单\"},\r\n                        {value:data.l_dcount,name:\"待发货订单\"},\r\n                        {value:data.l_ccount,name:\"等待处理订单\"},\r\n                    ]\r\n                }]\r\n            };\r\n            //注意事项:\r\n            //1:饼图没有x轴y轴,数据绑定采用name和value形式\r\n            // 使用刚指定的配置项和数据显示图表。\r\n            myChart.setOption(option);\r\n\r\n\r\n\r\n        }\r\n    });\r\n\r\n\r\n    //日期格式转换\r\n\r\n    function format(date){\r\n\r\n        var y = date.getFullYear();\r\n\r\n        var M = date.getMonth()+1;\r\n\r\n        var d = date.getDate();\r\n\r\n\r\n        var h = date.getHours();\r\n\r\n        var m = date.getMinutes();\r\n        m<10&&(m=\"0\"+m);\r\n\r\n        var s = date.getSeconds();\r\n        s<10&&(s=\"0\"+s);\r\n\r\n        return y+\"/\"+M+\"/\"+d+\" \"+h+\":\"+m+\":\"+s;\r\n    }\r\n\r\n});"]}